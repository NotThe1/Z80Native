0001: 0100         ;     File created by MakeZ80Source on Wed Apr 03 09:56:26 EDT 2019 from:
0002: 0100         ;     C:\Z80_Native\Submit.asm
0003: 0100         ;Source File name - SUBMIT.COM
0004: 0100         ;Generated by - ManualDisassembler V A.0 on Tue Apr 02 16:43:38 EDT 2019
0005: 0100
0006: 0100             NULL       EQU    00H                  ; Null
0007: 0100             SOH        EQU    01H                  ; Start of Heading
0008: 0100             BELL       EQU    07H                  ; Bell
0009: 0100             LF         EQU    0AH                  ; Line Feed
0010: 0100             CR         EQU    0DH                  ; Carriage Return
0011: 0100             DOLLAR     EQU    24H                  ; Dollar Sign
0012: 0100             QMARK      EQU    3FH                  ; Question Mark
0013: 0100
0014: 0100
0015: 0100                        ORG    0100H
0016: 0100
0017: 0100
0018: 0100         ;     <New code fragment-----from 0100 to 0102 ( 102 :  258)>
0019: 0100         ;              ORG 0100H
0020: 0100 C3 DF 01               JP     Start
0021: 0103
0022: 0103         ;     <New unknown fragment-----from 0103 to 01DE ( 1DE :  478)>
0023: 0103         ;              ORG 0103H
0024: 0103         ;;               DS 0DCH
0025: 0103 20 63 6F 70 79 72 69 67 68 74 28 63 29 20 31 39 37 37 20 20 64 69 67 69 74 61 6C 20 72 65 73 65 61 72 63 68 20 0A 0D 24                DB     ' copyright(c) 1977  digital research ',0AH,0DH,'$'
0026: 012B 45 72 72 6F 72 20 4F 6E 20 4C 69 6E 65 20 24                DB     'Error On Line $'
0027: 013A 53 55 42 4E 6F 20 20 53 55 42 20 20 46 69 6C 65 20 50 72 65 73 65 6E 74 24                DB     'SUBNo  SUB  File Present$'
0028: 0153 44 69 73 6B 20 57 72 69 74 65 20 45 72 72 6F 72 24                DB     'Disk Write Error$'
0029: 0164 43 6F 6D 6D 61 6E 64 20 42 75 66 66 65 72 20 4F 76 65 72 66 6C 6F 77 24                DB     'Command Buffer Overflow$'
0030: 017C 43 6F 6D 6D 61 6E 64 20 54 6F 6F 20 4C 6F 6E 67 24                DB     'Command Too Long$'
0031: 018D 50 61 72 61 6D 65 74 65 72 20 45 72 72 6F 72 24                DB     'Parameter Error$'
0032: 019D 49 6E 76 61 6C 69 64 20 43 6F 6E 74 72 6F 6C 20 43 68 61 72 61 63 74 65 72 24                DB     'Invalid Control Character$'
0033: 01B7 44 69 72 65 63 74 6F 72 79 20 46 75 6C 6C 24                DB     'Directory Full$'
0034: 01C6 43 61 6E 6E 6F 74 20 43 6C 6F 73 65 20 20 52 65 61 64 2F 4F 6E 6C 79 3F 24                DB     'Cannot Close  Read/Only?$'
0035: 01DF
0036: 01DF
0037: 01DF         ;     <New code fragment-----from 01DF to 01F6 ( 1F6 :  502)>
0038: 01DF         ;              ORG 01DFH
0039: 01DF             Start:
0040: 01DF 21 00 00               LD     HL,000H
0041: 01E2 39                     ADD    HL,SP
0042: 01E3 22 F0 05               LD     (CallerSP),HL        ; Save callers SP
0043: 01E6 21 93 0E               LD     HL,TopOfStack
0044: 01E9 F9                     LD     SP,HL                ; Set our stack
0045: 01EA CD CC 02               CALL   02CCH
0046: 01ED CD 8A 03               CALL   038AH
0047: 01F0 CD FE 04               CALL   04FEH
0048: 01F3 CD 87 05               CALL   0587H
0049: 01F6 C9                     RET
0050: 01F7
0051: 01F7         ;     <New code fragment-----from 01F7 to 0206 ( 206 :  518)>
0052: 01F7         ;              ORG  01F7H
0053: 01F7             L01F7:
0054: 01F7 21 DD 05               LD     HL,05DDH
0055: 01FA 70                     LD     (HL),B
0056: 01FB 2B                     DEC    HL
0057: 01FC 71                     LD     (HL),C
0058: 01FD 2A DC 05               LD     HL,(05DCH)
0059: 0200 EB                     EX     DE,HL
0060: 0201 0E 09                  LD     C,09H
0061: 0203 CD 8A 05               CALL   058AH
0062: 0206 C9                     RET
0063: 0207
0064: 0207         ;     <New code fragment-----from 0207 to 0219 ( 219 :  537)>
0065: 0207         ;              ORG  0207H
0066: 0207             L0207:
0067: 0207 21 E0 05               LD     HL,05E0H
0068: 020A 70                     LD     (HL),B
0069: 020B 2B                     DEC    HL
0070: 020C 71                     LD     (HL),C
0071: 020D 2A DF 05               LD     HL,(05DFH)
0072: 0210 EB                     EX     DE,HL
0073: 0211 0E 0F                  LD     C,0FH
0074: 0213 CD 8D 05               CALL   058DH
0075: 0216 32 DE 05               LD     (05DEH),A
0076: 0219 C9                     RET
0077: 021A
0078: 021A         ;     <New code fragment-----from 021A to 022C ( 22C :  556)>
0079: 021A         ;              ORG  021AH
0080: 021A             L021A:
0081: 021A 21 E2 05               LD     HL,05E2H
0082: 021D 70                     LD     (HL),B
0083: 021E 2B                     DEC    HL
0084: 021F 71                     LD     (HL),C
0085: 0220 2A E1 05               LD     HL,(05E1H)
0086: 0223 EB                     EX     DE,HL
0087: 0224 0E 10                  LD     C,010H
0088: 0226 CD 8D 05               CALL   058DH
0089: 0229 32 DE 05               LD     (05DEH),A
0090: 022C C9                     RET
0091: 022D
0092: 022D         ;     <New code fragment-----from 022D to 023C ( 23C :  572)>
0093: 022D         ;              ORG  022DH
0094: 022D             L022D:
0095: 022D 21 E4 05               LD     HL,05E4H
0096: 0230 70                     LD     (HL),B
0097: 0231 2B                     DEC    HL
0098: 0232 71                     LD     (HL),C
0099: 0233 2A E3 05               LD     HL,(05E3H)
0100: 0236 EB                     EX     DE,HL
0101: 0237 0E 13                  LD     C,013H
0102: 0239 CD 8A 05               CALL   058AH
0103: 023C C9                     RET
0104: 023D
0105: 023D         ;     <New code fragment-----from 023D to 024C ( 24C :  588)>
0106: 023D         ;              ORG  023DH
0107: 023D             L023D:
0108: 023D 21 E6 05               LD     HL,05E6H
0109: 0240 70                     LD     (HL),B
0110: 0241 2B                     DEC    HL
0111: 0242 71                     LD     (HL),C
0112: 0243 2A E5 05               LD     HL,(05E5H)
0113: 0246 EB                     EX     DE,HL
0114: 0247 0E 14                  LD     C,014H
0115: 0249 CD 8D 05               CALL   058DH
0116: 024C C9                     RET
0117: 024D
0118: 024D         ;     <New code fragment-----from 024D to 025C ( 25C :  604)>
0119: 024D         ;              ORG  024DH
0120: 024D             L024D:
0121: 024D 21 E8 05               LD     HL,05E8H
0122: 0250 70                     LD     (HL),B
0123: 0251 2B                     DEC    HL
0124: 0252 71                     LD     (HL),C
0125: 0253 2A E7 05               LD     HL,(05E7H)
0126: 0256 EB                     EX     DE,HL
0127: 0257 0E 15                  LD     C,015H
0128: 0259 CD 8D 05               CALL   058DH
0129: 025C C9                     RET
0130: 025D
0131: 025D         ;     <New code fragment-----from 025D to 026F ( 26F :  623)>
0132: 025D         ;              ORG  025DH
0133: 025D             L025D:
0134: 025D 21 EA 05               LD     HL,05EAH
0135: 0260 70                     LD     (HL),B
0136: 0261 2B                     DEC    HL
0137: 0262 71                     LD     (HL),C
0138: 0263 2A E9 05               LD     HL,(05E9H)
0139: 0266 EB                     EX     DE,HL
0140: 0267 0E 16                  LD     C,016H
0141: 0269 CD 8D 05               CALL   058DH
0142: 026C 32 DE 05               LD     (05DEH),A
0143: 026F C9                     RET
0144: 0270
0145: 0270         ;     <New code fragment-----from 0270 to 02A5 ( 2A5 :  677)>
0146: 0270         ;              ORG  0270H
0147: 0270         ;L0270:
0148: 0270         ;--------------------   Move Data    -------------------------------
0149: 0270             MoveData:
0150: 0270         ; called with E  = Length.
0151: 0270         ;             BC = Destination
0152: 0270         ;             On Stack = Source
0153: 0270         ;
0154: 0270 21 EF 05               LD     HL,movSize           ; Size location Pointer
0155: 0273 73                     LD     (HL),E               ; Save size
0156: 0274 2B                     DEC    HL                   ; Destination location pointer
0157: 0275 70                     LD     (HL),B               ; Save location MSB
0158: 0276 2B                     DEC    HL
0159: 0277 71                     LD     (HL),C               ; Save location LSB
0160: 0278 2B                     DEC    HL                   ; Source  Location Pointer
0161: 0279 D1                     POP    DE                   ; Temporary get past return address
0162: 027A C1                     POP    BC                   ; Retrieve Source location
0163: 027B 70                     LD     (HL),B               ; Save location MSB
0164: 027C 2B                     DEC    HL
0165: 027D 71                     LD     (HL),C               ; Save location LSB
0166: 027E D5                     PUSH   DE                   ; Restore return address to stack
0167: 027F             MoveData1:
0168: 027F 3A EF 05               LD     A,(movSize)          ; Get the length
0169: 0282 3D                     DEC    A                    ; Adjust count
0170: 0283 32 EF 05               LD     (movSize),A          ; Put back
0171: 0286 FE FF                  CP     0FFH                 ; Did it go to Zero ?
0172: 0288 CA A6 02               JP     Z,DumbRet            ; Return if yes
0173: 028B
0174: 028B 2A EB 05               LD     HL,(movSrc)
0175: 028E E5                     PUSH   HL
0176: 028F 2A ED 05               LD     HL,(movDest)
0177: 0292 C1                     POP    BC
0178: 0293 0A                     LD     A,(BC)               ; Get byte from Source
0179: 0294 77                     LD     (HL),A               ; Put into Destination
0180: 0295 2A EB 05               LD     HL,(movSrc)
0181: 0298 23                     INC    HL                   ; Update pointers
0182: 0299 22 EB 05               LD     (movSrc),HL
0183: 029C 2A ED 05               LD     HL,(movDest)
0184: 029F 23                     INC    HL
0185: 02A0 22 ED 05               LD     (movDest),HL
0186: 02A3 C3 7F 02               JP     MoveData1
0187: 02A6
0188: 02A6         ;L02A6:
0189: 02A6             DumbRet:
0190: 02A6 C9                     RET
0191: 02A7         ;--------------------   Move Data    -------------------------------
0192: 02A7
0193: 02A7         ;     <New code fragment-----from 02A7 to 02CB ( 2CB :  715)>
0194: 02A7         ;              ORG  02A7H
0195: 02A7             L02A7:
0196: 02A7 21 F3 05               LD     HL,05F3H
0197: 02AA 70                     LD     (HL),B
0198: 02AB 2B                     DEC    HL
0199: 02AC 71                     LD     (HL),C
0200: 02AD 01 28 01               LD     BC,0128H
0201: 02B0 CD F7 01               CALL   01F7H
0202: 02B3 01 2B 01               LD     BC,012BH
0203: 02B6 CD F7 01               CALL   01F7H
0204: 02B9 01 B6 05               LD     BC,05B6H
0205: 02BC CD F7 01               CALL   01F7H
0206: 02BF 2A F2 05               LD     HL,(05F2H)
0207: 02C2 44                     LD     B,H
0208: 02C3 4D                     LD     C,L
0209: 02C4 CD F7 01               CALL   01F7H
0210: 02C7 2A F0 05               LD     HL,(CallerSP)
0211: 02CA F9                     LD     SP,HL
0212: 02CB C9                     RET
0213: 02CC
0214: 02CC         ;     <New code fragment-----from 02CC to 0308 ( 308 :  776)>
0215: 02CC         ;              ORG  02CCH
0216: 02CC             L02CC:
0217: 02CC 01 81 00               LD     BC,0081H             ; #? comtail$chars
0218: 02CF C5                     PUSH   BC
0219: 02D0 1E 7F                  LD     E,07FH               ; #? comtail Size
0220: 02D2 01 F4 05               LD     BC,comTailTemp
0221: 02D5 CD 70 02               CALL   MoveData
0222: 02D8 2A 80 00               LD     HL,(0080H)
0223: 02DB 26 00                  LD     H,00H
0224: 02DD 01 F4 05               LD     BC,comTailTemp
0225: 02E0 09                     ADD    HL,BC
0226: 02E1 36 00                  LD     (HL),00H
0227: 02E3 01 3A 01               LD     BC,013AH
0228: 02E6 C5                     PUSH   BC
0229: 02E7 1E 03                  LD     E,03H
0230: 02E9 01 65 00               LD     BC,0065H
0231: 02EC CD 70 02               CALL   MoveData
0232: 02EF 01 5C 00               LD     BC,005CH
0233: 02F2 CD 07 02               CALL   0207H
0234: 02F5 3A DE 05               LD     A,(05DEH)
0235: 02F8 FE FF                  CP     0FFH
0236: 02FA C2 03 03               JP     NZ,0303H
0237: 02FD 01 3D 01               LD     BC,013DH
0238: 0300 CD A7 02               CALL   02A7H
0239: 0303             L0303:
0240: 0303 21 74 06               LD     HL,0674H
0241: 0306 36 80                  LD     (HL),080H
0242: 0308 C9                     RET
0243: 0309
0244: 0309         ;     <New code fragment-----from 0309 to 031F ( 31F :  799)>
0245: 0309         ;              ORG  0309H
0246: 0309             L0309:
0247: 0309 3E 7F                  LD     A,07FH
0248: 030B 21 74 06               LD     HL,0674H
0249: 030E BE                     CP     M
0250: 030F D2 25 03               JP     NC,0325H
0251: 0312 01 5C 00               LD     BC,005CH
0252: 0315 CD 3D 02               CALL   023DH
0253: 0318 FE 00                  CP     00H
0254: 031A CA 20 03               JP     Z,0320H
0255: 031D 3E 1A                  LD     A,01AH
0256: 031F C9                     RET
0257: 0320
0258: 0320         ;     <New code fragment-----from 0320 to 0377 ( 377 :  887)>
0259: 0320         ;              ORG  0320H
0260: 0320             L0320:
0261: 0320 21 74 06               LD     HL,0674H
0262: 0323 36 00                  LD     (HL),00H
0263: 0325             L0325:
0264: 0325 3A 74 06               LD     A,(0674H)
0265: 0328 3C                     INC    A
0266: 0329 32 74 06               LD     (0674H),A
0267: 032C 3D                     DEC    A
0268: 032D 4F                     LD     C,A
0269: 032E 06 00                  LD     B,00H
0270: 0330 21 80 00               LD     HL,0080H
0271: 0333 09                     ADD    HL,BC
0272: 0334 7E                     LD     A,(HL)
0273: 0335 32 75 06               LD     (0675H),A
0274: 0338 FE 0D                  CP     0DH
0275: 033A C2 62 03               JP     NZ,0362H
0276: 033D 3A B8 05               LD     A,(05B8H)
0277: 0340 3C                     INC    A
0278: 0341 32 B8 05               LD     (05B8H),A
0279: 0344 4F                     LD     C,A
0280: 0345 3E 39                  LD     A,039H
0281: 0347 B9                     CP     C
0282: 0348 D2 62 03               JP     NC,0362H
0283: 034B 21 B8 05               LD     HL,05B8H
0284: 034E 36 30                  LD     (HL),030H
0285: 0350 2B                     DEC    HL
0286: 0351 7E                     LD     A,(HL)
0287: 0352 3C                     INC    A
0288: 0353 77                     LD     (HL),A
0289: 0354 4F                     LD     C,A
0290: 0355 3E 39                  LD     A,039H
0291: 0357 B9                     CP     C
0292: 0358 D2 62 03               JP     NC,0362H
0293: 035B 21 B7 05               LD     HL,05B7H
0294: 035E 36 30                  LD     (HL),030H
0295: 0360 2B                     DEC    HL
0296: 0361 34                     INC    M
0297: 0362             L0362:
0298: 0362 3A 75 06               LD     A,(0675H)
0299: 0365 D6 61                  SUB    061H
0300: 0367 FE 1A                  CP     01AH
0301: 0369 D2 74 03               JP     NC,0374H
0302: 036C 3A 75 06               LD     A,(0675H)
0303: 036F E6 5F                  AND    05FH
0304: 0371 32 75 06               LD     (0675H),A
0305: 0374             L0374:
0306: 0374 3A 75 06               LD     A,(0675H)
0307: 0377 C9                     RET
0308: 0378
0309: 0378         ;     <New code fragment-----from 0378 to 0389 ( 389 :  905)>
0310: 0378         ;              ORG  0378H
0311: 0378             L0378:
0312: 0378 01 BB 05               LD     BC,05BBH
0313: 037B CD 4D 02               CALL   024DH
0314: 037E FE 00                  CP     00H
0315: 0380 CA 89 03               JP     Z,0389H
0316: 0383 01 53 01               LD     BC,0153H
0317: 0386 CD A7 02               CALL   02A7H
0318: 0389             L0389:
0319: 0389 C9                     RET
0320: 038A
0321: 038A         ;     <New code fragment-----from 038A to 03E5 ( 3E5 :  997)>
0322: 038A         ;              ORG  038AH
0323: 038A             L038A:
0324: 038A 21 76 06               LD     HL,0676H
0325: 038D 36 00                  LD     (HL),00H
0326: 038F 21 00 00               LD     HL,0000H
0327: 0392 22 76 0E               LD     (0E76H),HL
0328: 0395 21 7C 0E               LD     HL,0E7CH
0329: 0398 36 01                  LD     (HL),01H
0330: 039A             L039A:
0331: 039A 3A 7C 0E               LD     A,(0E7CH)
0332: 039D 1F                     RRA
0333: 039E D2 80 04               JP     NC,0480H
0334: 03A1 21 78 0E               LD     HL,0E78H
0335: 03A4 36 00                  LD     (HL),00H
0336: 03A6             L03A6:
0337: 03A6 CD 09 03               CALL   0309H
0338: 03A9 32 7D 0E               LD     (0E7DH),A
0339: 03AC D6 1A                  SUB    01AH
0340: 03AE C6 FF                  ADD    A,0FFH
0341: 03B0 9F                     SBC    A,A
0342: 03B1 F5                     PUSH   AF
0343: 03B2 3A 7D 0E               LD     A,(0E7DH)
0344: 03B5 D6 0D                  SUB    0DH
0345: 03B7 C6 FF                  ADD    A,0FFH
0346: 03B9 9F                     SBC    A,A
0347: 03BA C1                     POP    BC
0348: 03BB 48                     LD     C,B
0349: 03BC A1                     AND    C
0350: 03BD 1F                     RRA
0351: 03BE D2 6B 04               JP     NC,046BH
0352: 03C1 3A 7D 0E               LD     A,(0E7DH)
0353: 03C4 FE 0A                  CP     0AH
0354: 03C6 CA 68 04               JP     Z,0468H
0355: 03C9 3A 7D 0E               LD     A,(0E7DH)
0356: 03CC FE 24                  CP     024H
0357: 03CE C2 36 04               JP     NZ,0436H
0358: 03D1 CD 09 03               CALL   0309H
0359: 03D4 32 7D 0E               LD     (0E7DH),A
0360: 03D7 FE 24                  CP     024H
0361: 03D9 C2 E6 03               JP     NZ,03E6H
0362: 03DC 2A 7D 0E               LD     HL,(0E7DH)
0363: 03DF 4D                     LD     C,L
0364: 03E0 CD C4 04               CALL   04C4H
0365: 03E3 C3 33 04               JP     0433H
0366: 03E6
0367: 03E6         ;     <New code fragment-----from 03E6 to 03FD ( 3FD : 1021)>
0368: 03E6         ;              ORG  03E6H
0369: 03E6             L03E6:
0370: 03E6 3A 7D 0E               LD     A,(0E7DH)
0371: 03E9 D6 30                  SUB    030H
0372: 03EB 32 7D 0E               LD     (0E7DH),A
0373: 03EE 4F                     LD     C,A
0374: 03EF 3E 09                  LD     A,09H
0375: 03F1 B9                     CP     C
0376: 03F2 D2 FE 03               JP     NC,03FEH
0377: 03F5 01 8D 01               LD     BC,018DH
0378: 03F8 CD A7 02               CALL   02A7H
0379: 03FB C3 33 04               JP     0433H
0380: 03FE
0381: 03FE         ;     <New code fragment-----from 03FE to 041B ( 41B : 1051)>
0382: 03FE         ;              ORG  03FEH
0383: 03FE             L03FE:
0384: 03FE 21 7A 0E               LD     HL,0E7AH
0385: 0401 36 00                  LD     (HL),00H
0386: 0403 CD AD 04               CALL   04ADH
0387: 0406             L0406:
0388: 0406 3A 7D 0E               LD     A,(0E7DH)
0389: 0409 FE 00                  CP     00H
0390: 040B CA 22 04               JP     Z,0422H
0391: 040E 21 7D 0E               LD     HL,0E7DH
0392: 0411 35                     DEC    M
0393: 0412             L0412:
0394: 0412 CD 81 04               CALL   0481H
0395: 0415 1F                     RRA
0396: 0416 D2 1C 04               JP     NC,041CH
0397: 0419 C3 12 04               JP     0412H
0398: 041C
0399: 041C         ;     <New code fragment-----from 041C to 0421 ( 421 : 1057)>
0400: 041C         ;              ORG  041CH
0401: 041C             L041C:
0402: 041C CD AD 04               CALL   04ADH
0403: 041F C3 06 04               JP     0406H
0404: 0422
0405: 0422         ;     <New code fragment-----from 0422 to 0432 ( 432 : 1074)>
0406: 0422         ;              ORG  0422H
0407: 0422             L0422:
0408: 0422 CD 81 04               CALL   0481H
0409: 0425 1F                     RRA
0410: 0426 D2 33 04               JP     NC,0433H
0411: 0429 2A 79 0E               LD     HL,(0E79H)
0412: 042C 4D                     LD     C,L
0413: 042D CD C4 04               CALL   04C4H
0414: 0430 C3 22 04               JP     0422H
0415: 0433
0416: 0433         ;     <New code fragment-----from 0433 to 0435 ( 435 : 1077)>
0417: 0433         ;              ORG  0433H
0418: 0433             L0433:
0419: 0433 C3 68 04               JP     0468H
0420: 0436
0421: 0436         ;     <New code fragment-----from 0436 to 0455 ( 455 : 1109)>
0422: 0436         ;              ORG  0436H
0423: 0436             L0436:
0424: 0436 3A 7D 0E               LD     A,(0E7DH)
0425: 0439 FE 5E                  CP     05EH
0426: 043B C2 61 04               JP     NZ,0461H
0427: 043E CD 09 03               CALL   0309H
0428: 0441 D6 61                  SUB    061H
0429: 0443 32 7D 0E               LD     (0E7DH),A
0430: 0446 4F                     LD     C,A
0431: 0447 3E 19                  LD     A,019H
0432: 0449 B9                     CP     C
0433: 044A D2 56 04               JP     NC,0456H
0434: 044D 01 9D 01               LD     BC,019DH
0435: 0450 CD A7 02               CALL   02A7H
0436: 0453 C3 5E 04               JP     045EH
0437: 0456
0438: 0456         ;     <New code fragment-----from 0456 to 045D ( 45D : 1117)>
0439: 0456         ;              ORG  0456H
0440: 0456             L0456:
0441: 0456 3A 7D 0E               LD     A,(0E7DH)
0442: 0459 3C                     INC    A
0443: 045A 4F                     LD     C,A
0444: 045B CD C4 04               CALL   04C4H
0445: 045E
0446: 045E         ;     <New code fragment-----from 045E to 0460 ( 460 : 1120)>
0447: 045E         ;              ORG  045EH
0448: 045E             L045E:
0449: 045E C3 68 04               JP     0468H
0450: 0461
0451: 0461         ;     <New code fragment-----from 0461 to 0467 ( 467 : 1127)>
0452: 0461         ;              ORG  0461H
0453: 0461             L0461:
0454: 0461 2A 7D 0E               LD     HL,(0E7DH)
0455: 0464 4D                     LD     C,L
0456: 0465 CD C4 04               CALL   04C4H
0457: 0468
0458: 0468         ;     <New code fragment-----from 0468 to 046A ( 46A : 1130)>
0459: 0468         ;              ORG  0468H
0460: 0468             L0468:
0461: 0468 C3 A6 03               JP     03A6H
0462: 046B
0463: 046B         ;     <New code fragment-----from 046B to 047F ( 47F : 1151)>
0464: 046B         ;              ORG  046BH
0465: 046B             L046B:
0466: 046B 3A 7D 0E               LD     A,(0E7DH)
0467: 046E D6 0D                  SUB    0DH
0468: 0470 D6 01                  SUB    01H
0469: 0472 9F                     SBC    A,A
0470: 0473 32 7C 0E               LD     (0E7CH),A
0471: 0476 2A 78 0E               LD     HL,(0E78H)
0472: 0479 4D                     LD     C,L
0473: 047A CD C4 04               CALL   04C4H
0474: 047D C3 9A 03               JP     039AH
0475: 0480
0476: 0480         ;     <New code fragment-----from 0480 to 0480 ( 480 : 1152)>
0477: 0480         ;              ORG  0480H
0478: 0480             L0480:
0479: 0480 C9                     RET
0480: 0481
0481: 0481         ;     <New code fragment-----from 0481 to 04A9 ( 4A9 : 1193)>
0482: 0481         ;              ORG  0481H
0483: 0481             L0481:
0484: 0481 2A 7A 0E               LD     HL,(0E7AH)
0485: 0484 26 00                  LD     H,00H
0486: 0486 01 F4 05               LD     BC,comTailTemp
0487: 0489 09                     ADD    HL,BC
0488: 048A 7E                     LD     A,(HL)
0489: 048B 32 79 0E               LD     (0E79H),A
0490: 048E D6 20                  SUB    020H
0491: 0490 D6 01                  SUB    01H
0492: 0492 9F                     SBC    A,A
0493: 0493 F5                     PUSH   AF
0494: 0494 3A 79 0E               LD     A,(0E79H)
0495: 0497 D6 00                  SUB    00H
0496: 0499 D6 01                  SUB    01H
0497: 049B 9F                     SBC    A,A
0498: 049C C1                     POP    BC
0499: 049D 48                     LD     C,B
0500: 049E B1                     OR     C
0501: 049F 1F                     RRA
0502: 04A0 DA AA 04               JP     C,04AAH
0503: 04A3 21 7A 0E               LD     HL,0E7AH
0504: 04A6 34                     INC    M
0505: 04A7 3E 01                  LD     A,01H
0506: 04A9 C9                     RET
0507: 04AA
0508: 04AA         ;     <New code fragment-----from 04AA to 04AC ( 4AC : 1196)>
0509: 04AA         ;              ORG  04AAH
0510: 04AA             L04AA:
0511: 04AA 3E 00                  LD     A,00H
0512: 04AC C9                     RET
0513: 04AD
0514: 04AD         ;     <New code fragment-----from 04AD to 04C2 ( 4C2 : 1218)>
0515: 04AD         ;              ORG  04ADH
0516: 04AD             L04AD:
0517: 04AD 2A 7A 0E               LD     HL,(0E7AH)
0518: 04B0 26 00                  LD     H,00H
0519: 04B2 01 F4 05               LD     BC,comTailTemp
0520: 04B5 09                     ADD    HL,BC
0521: 04B6 7E                     LD     A,(HL)
0522: 04B7 FE 20                  CP     020H
0523: 04B9 C2 C3 04               JP     NZ,04C3H
0524: 04BC 21 7A 0E               LD     HL,0E7AH
0525: 04BF 34                     INC    M
0526: 04C0 C3 AD 04               JP     04ADH
0527: 04C3
0528: 04C3         ;     <New code fragment-----from 04C3 to 04C3 ( 4C3 : 1219)>
0529: 04C3         ;              ORG  04C3H
0530: 04C3             L04C3:
0531: 04C3 C9                     RET
0532: 04C4
0533: 04C4         ;     <New code fragment-----from 04C4 to 04FD ( 4FD : 1277)>
0534: 04C4         ;              ORG  04C4H
0535: 04C4             L04C4:
0536: 04C4 21 7B 0E               LD     HL,0E7BH
0537: 04C7 71                     LD     (HL),C
0538: 04C8 2A 76 0E               LD     HL,(0E76H)
0539: 04CB 23                     INC    HL
0540: 04CC 22 76 0E               LD     (0E76H),HL
0541: 04CF 11 FF 07               LD     DE,07FFH
0542: 04D2 CD 99 05               CALL   0599H
0543: 04D5 D2 DE 04               JP     NC,04DEH
0544: 04D8 01 64 01               LD     BC,0164H
0545: 04DB CD A7 02               CALL   02A7H
0546: 04DE             L04DE:
0547: 04DE 2A 76 0E               LD     HL,(0E76H)
0548: 04E1 01 76 06               LD     BC,0676H
0549: 04E4 09                     ADD    HL,BC
0550: 04E5 3A 7B 0E               LD     A,(0E7BH)
0551: 04E8 77                     LD     (HL),A
0552: 04E9 3A 78 0E               LD     A,(0E78H)
0553: 04EC 3C                     INC    A
0554: 04ED 32 78 0E               LD     (0E78H),A
0555: 04F0 4F                     LD     C,A
0556: 04F1 3E 7D                  LD     A,07DH
0557: 04F3 B9                     CP     C
0558: 04F4 D2 FD 04               JP     NC,04FDH
0559: 04F7 01 7C 01               LD     BC,017CH
0560: 04FA CD A7 02               CALL   02A7H
0561: 04FD             L04FD:
0562: 04FD C9                     RET
0563: 04FE
0564: 04FE         ;     <New code fragment-----from 04FE to 055E ( 55E : 1374)>
0565: 04FE         ;              ORG  04FEH
0566: 04FE             L04FE:
0567: 04FE 01 BB 05               LD     BC,05BBH
0568: 0501 CD 2D 02               CALL   022DH
0569: 0504 21 DB 05               LD     HL,05DBH
0570: 0507 36 00                  LD     (HL),00H
0571: 0509 01 BB 05               LD     BC,05BBH
0572: 050C CD 5D 02               CALL   025DH
0573: 050F 3A DE 05               LD     A,(05DEH)
0574: 0512 FE FF                  CP     0FFH
0575: 0514 C2 1D 05               JP     NZ,051DH
0576: 0517 01 B7 01               LD     BC,01B7H
0577: 051A CD A7 02               CALL   02A7H
0578: 051D             L051D:
0579: 051D CD 7A 05               CALL   057AH
0580: 0520 32 7E 0E               LD     (0E7EH),A
0581: 0523 FE 00                  CP     00H
0582: 0525 CA 65 05               JP     Z,0565H
0583: 0528 3A 7E 0E               LD     A,(0E7EH)
0584: 052B 32 80 00               LD     (0080H),A
0585: 052E 4F                     LD     C,A
0586: 052F 06 00                  LD     B,00H
0587: 0531 21 81 00               LD     HL,0081H
0588: 0534 09                     ADD    HL,BC
0589: 0535 36 00                  LD     (HL),00H
0590: 0537 2A 7E 0E               LD     HL,(0E7EH)
0591: 053A 26 00                  LD     H,00H
0592: 053C 01 82 00               LD     BC,0082H
0593: 053F 09                     ADD    HL,BC
0594: 0540 36 24                  LD     (HL),024H
0595: 0542             L0542:
0596: 0542 3E 00                  LD     A,00H
0597: 0544 21 7E 0E               LD     HL,0E7EH
0598: 0547 BE                     CP     M
0599: 0548 D2 5F 05               JP     NC,055FH
0600: 054B CD 7A 05               CALL   057AH
0601: 054E 2A 7E 0E               LD     HL,(0E7EH)
0602: 0551 26 00                  LD     H,00H
0603: 0553 01 80 00               LD     BC,0080H
0604: 0556 09                     ADD    HL,BC
0605: 0557 77                     LD     (HL),A
0606: 0558 21 7E 0E               LD     HL,0E7EH
0607: 055B 35                     DEC    M
0608: 055C C3 42 05               JP     0542H
0609: 055F
0610: 055F         ;     <New code fragment-----from 055F to 0564 ( 564 : 1380)>
0611: 055F         ;              ORG  055FH
0612: 055F             L055F:
0613: 055F CD 78 03               CALL   0378H
0614: 0562 C3 1D 05               JP     051DH
0615: 0565
0616: 0565         ;     <New code fragment-----from 0565 to 0579 ( 579 : 1401)>
0617: 0565         ;              ORG  0565H
0618: 0565             L0565:
0619: 0565 01 BB 05               LD     BC,05BBH
0620: 0568 CD 1A 02               CALL   021AH
0621: 056B 3A DE 05               LD     A,(05DEH)
0622: 056E FE FF                  CP     0FFH
0623: 0570 C2 79 05               JP     NZ,0579H
0624: 0573 01 C6 01               LD     BC,01C6H
0625: 0576 CD A7 02               CALL   02A7H
0626: 0579             L0579:
0627: 0579 C9                     RET
0628: 057A
0629: 057A         ;     <New code fragment-----from 057A to 0586 ( 586 : 1414)>
0630: 057A         ;              ORG  057AH
0631: 057A             L057A:
0632: 057A 2A 76 0E               LD     HL,(0E76H)
0633: 057D 2B                     DEC    HL
0634: 057E 22 76 0E               LD     (0E76H),HL
0635: 0581 01 76 06               LD     BC,0676H
0636: 0584 09                     ADD    HL,BC
0637: 0585 7E                     LD     A,(HL)
0638: 0586 C9                     RET
0639: 0587
0640: 0587         ;     <New code fragment-----from 0587 to 0589 ( 589 : 1417)>
0641: 0587         ;              ORG  0587H
0642: 0587             L0587:
0643: 0587 C3 00 00               JP     0000H
0644: 058A
0645: 058A         ;     <New code fragment-----from 058A to 058C ( 58C : 1420)>
0646: 058A         ;              ORG  058AH
0647: 058A             L058A:
0648: 058A C3 05 00               JP     0005H
0649: 058D
0650: 058D         ;     <New code fragment-----from 058D to 058F ( 58F : 1423)>
0651: 058D         ;              ORG  058DH
0652: 058D             L058D:
0653: 058D C3 05 00               JP     0005H
0654: 0590
0655: 0590         ;     <New unknown fragment-----from 0590 to 0598 ( 598 : 1432)>
0656: 0590         ;              ORG  0590H
0657: 0590                        DS     0009H
0658: 0599
0659: 0599         ;     <New code fragment-----from 0599 to 059F ( 59F : 1439)>
0660: 0599         ;              ORG  0599H
0661: 0599             L0599:
0662: 0599 7B                     LD     A,E
0663: 059A 95                     SUB    L
0664: 059B 6F                     LD     L,A
0665: 059C 7A                     LD     A,D
0666: 059D 9C                     SBC    A,H
0667: 059E 67                     LD     H,A
0668: 059F C9                     RET
0669: 05A0
0670: 05A0         ;     <New unknown fragment-----from 05A0 to 05FF ( 5FF : 1535)>
0671: 05A0         ;              ORG  05A0H
0672: 05A0         ;                DS  0060H
0673: 05A0                        ORG    05EBH
0674: 05EB         ;------- moveData Variables -------
0675: 05EB             movSrc:    DS     2                    ; Source pointer  for move
0676: 05ED             movDest:   DS     2                    ; Destination pointer for Move
0677: 05EF             movSize:   DS     1                    ; Size of the remaining move
0678: 05F0
0679: 05F0         ;			ORG		05F0H
0680: 05F0 00 00       CallerSP:  DW     0000
0681: 05F2 00 00                  DW     0000
0682: 05F4         ;L5F4:
0683: 05F4             comTailTemp:
0684: 05F4                        DS     07FH
0685: 0673
0686: 0673                        ORG    0E93H
0687: 0E93             TopOfStack:
0688: 0E93
0689: 0E93             EndOfCode:
0690: 0E93
           ************************   Xref   ************************
0000: $               0E93
0008: BELL            0007
0680: CallerSP        05F0   0042 0210
0683: comTailTemp     05F4   0220 0224 0486 0519
0010: CR              000D
0011: DOLLAR          0024
0189: DumbRet         02A6   0172
0689: EndOfCode       0E93
0053: L01F7           01F7
0066: L0207           0207
0080: L021A           021A
0094: L022D           022D
0107: L023D           023D
0120: L024D           024D
0133: L025D           025D
0195: L02A7           02A7
0216: L02CC           02CC
0239: L0303           0303
0246: L0309           0309
0260: L0320           0320
0263: L0325           0325
0297: L0362           0362
0305: L0374           0374
0311: L0378           0378
0318: L0389           0389
0323: L038A           038A
0330: L039A           039A
0336: L03A6           03A6
0369: L03E6           03E6
0383: L03FE           03FE
0387: L0406           0406
0393: L0412           0412
0401: L041C           041C
0407: L0422           0422
0418: L0433           0433
0423: L0436           0436
0440: L0456           0456
0448: L045E           045E
0453: L0461           0461
0460: L0468           0468
0465: L046B           046B
0478: L0480           0480
0483: L0481           0481
0510: L04AA           04AA
0516: L04AD           04AD
0530: L04C3           04C3
0535: L04C4           04C4
0546: L04DE           04DE
0561: L04FD           04FD
0566: L04FE           04FE
0578: L051D           051D
0595: L0542           0542
0612: L055F           055F
0618: L0565           0565
0626: L0579           0579
0631: L057A           057A
0642: L0587           0587
0647: L058A           058A
0652: L058D           058D
0661: L0599           0599
0009: LF              000A
0676: movDest         05ED   0176 0183 0185
0149: MoveData        0270   0221 0231
0167: MoveData1       027F   0186
0677: movSize         05EF   0154 0168 0170
0675: movSrc          05EB   0174 0180 0182
0006: NULL            0000
0012: QMARK           003F
0007: SOH             0001
0039: Start           01DF   0020
0687: TopOfStack      0E93   0043
